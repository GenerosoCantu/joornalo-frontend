{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\DEVELOPMENT\\\\joornalo-frontend\\\\front.joornalo\\\\pages\\\\section\\\\[section]\\\\[date]\\\\[id].js\";\nvar __jsx = React.createElement;\n// import { useRouter } from 'next/router'\nimport React, { useEffect, useContext } from 'react';\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport Layout from '../../../../components/MyLayout';\nimport redirect from 'next-redirect';\nimport Template from \"../../../../components/Template.js\";\nimport Error from 'next/error';\nimport { getNews, getOtherNews, getConfig } from '../../../../store/actions/newsActions'; // url ===> http://localhost:3000/section/world/2020-01-11/iraq-iran-us-troops-4c50e545-539e-4893-b505-1edc2de3c977\n\nconst News = ({\n  id,\n  uuid,\n  news,\n  template,\n  notFound\n}) => {\n  const getTitle = news => {\n    return news ? news.title : '';\n  };\n\n  if (notFound) {\n    return __jsx(Error, {\n      statusCode: \"404\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    });\n  }\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: templateName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(Template, {\n    grid: template,\n    data: news,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  })), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/section/[section]/[date]/[id]\",\n    as: \"/section/world/2020-01-11/iraq-iran-us-troops-4c50e545-539e-4893-b505-1edc2de3c9ZZ\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Bad link\"))), __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/section/[section]/[date]/[id]\",\n    as: \"/section/world-europe/2020-01-11/harry-meghan-drop-royal-duties-4c50e545-539e-4893-b505-1edc2de3c988\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Link: Megan & Harry\"))), __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/section/[section]/[date]/[id]\",\n    as: \"/section/world-middleeast/2020-01-11/iraq-iran-us-troops-4c50e545-539e-4893-b505-1edc2de3c999\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Link: Iran Nuclear Deal\")))));\n};\n\nNews.getInitialProps = async function (context, eureka) {\n  const {\n    store\n  } = context;\n  const {\n    section,\n    date,\n    id\n  } = context.query;\n  const uuid = id.slice(-36);\n  const url = `/section/${section}/${date}/${id}`;\n  let notFound = false;\n  console.log(eureka);\n\n  try {\n    if (!false) {\n      await store.dispatch(getConfig(context.req));\n    }\n\n    await store.dispatch(getNews(section, date, uuid, url, context.req));\n    await store.dispatch(getOtherNews(section));\n    const error = store.getState().news.error;\n\n    if (error && error.indexOf('Redirect: ') == 0) {\n      return redirect(context, error.slice(10), 308);\n    }\n\n    if (error == 'NotFound') {\n      notFound = true;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n\n  return {\n    id,\n    uuid,\n    url,\n    notFound\n  };\n};\n\nconst mapStateToProps = state => ({\n  news: state.news.news,\n  topNews: state.news.topNews,\n  moreNews: state.news.moreNews,\n  templateName: state.news.templateName,\n  template: state.news.template,\n  loading: state.news.loading\n});\n\nexport default connect(mapStateToProps, {\n  getNews,\n  getOtherNews\n})(News);","map":{"version":3,"sources":["C:/Projects/DEVELOPMENT/joornalo-frontend/front.joornalo/pages/section/[section]/[date]/[id].js"],"names":["React","useEffect","useContext","Link","connect","Layout","redirect","Template","Error","getNews","getOtherNews","getConfig","News","id","uuid","news","template","notFound","getTitle","title","templateName","getInitialProps","context","eureka","store","section","date","query","slice","url","console","log","dispatch","req","error","getState","indexOf","err","mapStateToProps","state","topNews","moreNews","loading"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,SAAhC,QAAiD,uCAAjD,C,CAEA;;AAGA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,IAAN;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA,QAAlB;AAA4BC,EAAAA;AAA5B,CAAD,KAA4C;AAEvD,QAAMC,QAAQ,GAAIH,IAAD,IAAU;AACzB,WAAQA,IAAD,GAASA,IAAI,CAACI,KAAd,GAAsB,EAA7B;AACD,GAFD;;AAIA,MAAIF,QAAJ,EAAc;AACZ,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAEG,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AAAU,IAAA,IAAI,EAAEJ,QAAhB;AAA0B,IAAA,IAAI,EAAED,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,gCAAX;AAA4C,IAAA,EAAE,EAAC,oFAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,gCAAX;AAA4C,IAAA,EAAE,EAAC,sGAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CADF,CANF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,gCAAX;AAA4C,IAAA,EAAE,EAAC,+FAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF,CAXF,CAPF,CADF;AA4BD,CAtCD;;AAwCAH,IAAI,CAACS,eAAL,GAAuB,gBAAgBC,OAAhB,EAAyBC,MAAzB,EAAiC;AACtD,QAAM;AAAEC,IAAAA;AAAF,MAAYF,OAAlB;AACA,QAAM;AAAEG,IAAAA,OAAF;AAAWC,IAAAA,IAAX;AAAiBb,IAAAA;AAAjB,MAAwBS,OAAO,CAACK,KAAtC;AACA,QAAMb,IAAI,GAAGD,EAAE,CAACe,KAAH,CAAS,CAAC,EAAV,CAAb;AACA,QAAMC,GAAG,GAAI,YAAWJ,OAAQ,IAAGC,IAAK,IAAGb,EAAG,EAA9C;AACA,MAAII,QAAQ,GAAG,KAAf;AAEAa,EAAAA,OAAO,CAACC,GAAR,CAAYR,MAAZ;;AAEA,MAAI;AACF,QAAI,MAAJ,EAAsB;AACpB,YAAMC,KAAK,CAACQ,QAAN,CAAerB,SAAS,CAACW,OAAO,CAACW,GAAT,CAAxB,CAAN;AACD;;AACD,UAAMT,KAAK,CAACQ,QAAN,CAAevB,OAAO,CAACgB,OAAD,EAAUC,IAAV,EAAgBZ,IAAhB,EAAsBe,GAAtB,EAA2BP,OAAO,CAACW,GAAnC,CAAtB,CAAN;AACA,UAAMT,KAAK,CAACQ,QAAN,CAAetB,YAAY,CAACe,OAAD,CAA3B,CAAN;AAEA,UAAMS,KAAK,GAAGV,KAAK,CAACW,QAAN,GAAiBpB,IAAjB,CAAsBmB,KAApC;;AAEA,QAAIA,KAAK,IAAIA,KAAK,CAACE,OAAN,CAAc,YAAd,KAA+B,CAA5C,EAA+C;AAC7C,aAAO9B,QAAQ,CAACgB,OAAD,EAAUY,KAAK,CAACN,KAAN,CAAY,EAAZ,CAAV,EAA2B,GAA3B,CAAf;AACD;;AACD,QAAIM,KAAK,IAAI,UAAb,EAAyB;AACvBjB,MAAAA,QAAQ,GAAG,IAAX;AACD;AAEF,GAhBD,CAgBE,OAAOoB,GAAP,EAAY;AACZP,IAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD;;AAED,SAAO;AACLxB,IAAAA,EADK;AAELC,IAAAA,IAFK;AAGLe,IAAAA,GAHK;AAILZ,IAAAA;AAJK,GAAP;AAOD,CApCD;;AAsCA,MAAMqB,eAAe,GAAGC,KAAK,KAAK;AAChCxB,EAAAA,IAAI,EAAEwB,KAAK,CAACxB,IAAN,CAAWA,IADe;AAEhCyB,EAAAA,OAAO,EAAED,KAAK,CAACxB,IAAN,CAAWyB,OAFY;AAGhCC,EAAAA,QAAQ,EAAEF,KAAK,CAACxB,IAAN,CAAW0B,QAHW;AAIhCrB,EAAAA,YAAY,EAAEmB,KAAK,CAACxB,IAAN,CAAWK,YAJO;AAKhCJ,EAAAA,QAAQ,EAAEuB,KAAK,CAACxB,IAAN,CAAWC,QALW;AAMhC0B,EAAAA,OAAO,EAAEH,KAAK,CAACxB,IAAN,CAAW2B;AANY,CAAL,CAA7B;;AASA,eAAetC,OAAO,CACpBkC,eADoB,EAEpB;AAAE7B,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAFoB,CAAP,CAGbE,IAHa,CAAf","sourcesContent":["// import { useRouter } from 'next/router'\r\nimport React, { useEffect, useContext } from 'react';\r\nimport Link from 'next/link';\r\nimport { connect } from 'react-redux';\r\nimport Layout from '../../../../components/MyLayout';\r\nimport redirect from 'next-redirect';\r\nimport Template from \"../../../../components/Template.js\";\r\nimport Error from 'next/error'\r\nimport { getNews, getOtherNews, getConfig } from '../../../../store/actions/newsActions';\r\n\r\n// url ===> http://localhost:3000/section/world/2020-01-11/iraq-iran-us-troops-4c50e545-539e-4893-b505-1edc2de3c977\r\n\r\n\r\nconst News = ({ id, uuid, news, template, notFound }) => {\r\n\r\n  const getTitle = (news) => {\r\n    return (news) ? news.title : '';\r\n  }\r\n\r\n  if (notFound) {\r\n    return <Error statusCode='404' />\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n\r\n      <div className={templateName}>\r\n        <Template grid={template} data={news} />\r\n      </div>\r\n\r\n\r\n      <ul>\r\n        <li>\r\n          <Link href=\"/section/[section]/[date]/[id]\" as=\"/section/world/2020-01-11/iraq-iran-us-troops-4c50e545-539e-4893-b505-1edc2de3c9ZZ\">\r\n            <a>Bad link</a>\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link href=\"/section/[section]/[date]/[id]\" as=\"/section/world-europe/2020-01-11/harry-meghan-drop-royal-duties-4c50e545-539e-4893-b505-1edc2de3c988\">\r\n            <a>Link: Megan & Harry</a>\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link href=\"/section/[section]/[date]/[id]\" as=\"/section/world-middleeast/2020-01-11/iraq-iran-us-troops-4c50e545-539e-4893-b505-1edc2de3c999\">\r\n            <a>Link: Iran Nuclear Deal</a>\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n\r\n    </Layout>\r\n  )\r\n}\r\n\r\nNews.getInitialProps = async function (context, eureka) {\r\n  const { store } = context;\r\n  const { section, date, id } = context.query;\r\n  const uuid = id.slice(-36);\r\n  const url = `/section/${section}/${date}/${id}`;\r\n  let notFound = false;\r\n\r\n  console.log(eureka);\r\n\r\n  try {\r\n    if (!process.browser) {\r\n      await store.dispatch(getConfig(context.req));\r\n    }\r\n    await store.dispatch(getNews(section, date, uuid, url, context.req));\r\n    await store.dispatch(getOtherNews(section));\r\n\r\n    const error = store.getState().news.error;\r\n\r\n    if (error && error.indexOf('Redirect: ') == 0) {\r\n      return redirect(context, error.slice(10), 308);\r\n    }\r\n    if (error == 'NotFound') {\r\n      notFound = true;\r\n    }\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return {\r\n    id,\r\n    uuid,\r\n    url,\r\n    notFound\r\n  };\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  news: state.news.news,\r\n  topNews: state.news.topNews,\r\n  moreNews: state.news.moreNews,\r\n  templateName: state.news.templateName,\r\n  template: state.news.template,\r\n  loading: state.news.loading\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getNews, getOtherNews }\r\n)(News);"]},"metadata":{},"sourceType":"module"}