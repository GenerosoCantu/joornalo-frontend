{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport store from '../../pages/store';\nimport { GET_NEWS, SET_LOADING, ADD_TEMPLATE, NEWS_ERROR, INIT_AGENT, GET_CONFIG, GET_OTHERNEWS } from '../types';\nimport { initAgent, test } from '../../services/configService';\nimport axios from 'axios';\n\nvar getTemplate = function getTemplate(req, template, agent) {\n  var tmpl, templateUrl, res, tmp, find, i, mediaNum, _i, imageNum;\n\n  return _regeneratorRuntime.async(function getTemplate$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          setLoading();\n          tmpl = agent + '-' + template;\n          templateUrl = \"https://data.joornalo.com/templates/news/\".concat(tmpl, \".json\");\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(axios.get(templateUrl));\n\n        case 6:\n          res = _context.sent;\n          tmp = unescape(data.text);\n          find = tmp.split('<embed id=\"');\n\n          for (i = find.length - 1; i--;) {\n            mediaNum = _parseInt(find[i + 1].charAt(0));\n\n            if (data.media[mediaNum - 1]) {\n              find[i + 1] = '<div class=\"embed\">' + data.media[mediaNum - 1].embed + '</div>' + find[i + 1].substring(5);\n            } else {\n              find[i + 1] = find[i + 1].substring(5);\n            }\n          }\n\n          tmp = find.join('');\n          find = tmp.split('<image id=\"');\n\n          for (_i = find.length - 1; _i--;) {\n            imageNum = _parseInt(find[_i + 1].charAt(0));\n\n            if (data.images[imageNum - 1]) {\n              find[_i + 1] = '<img src=\"https://data.joornalo.com/news/4/c/' + data.images[imageNum - 1].url + '\" />' + find[_i + 1].substring(5);\n            } else {\n              find[_i + 1] = find[_i + 1].substring(5);\n            }\n          }\n\n          data.modText = Parser(find.join(''));\n          data.mainImgUrl = 'https://data.joornalo.com/news/4/c/' + data.images[0].url;\n          return _context.abrupt(\"return\", res.data);\n\n        case 18:\n          _context.prev = 18;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('***********Template Error');\n          dispatch({\n            type: NEWS_ERROR,\n            payload: _context.t0.statusText\n          });\n\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 18]]);\n};\n\nexport var getOtherNews = function getOtherNews(section) {\n  return function _callee(dispatch, getState) {\n    var moreUrl, res;\n    return _regeneratorRuntime.async(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            setLoading();\n            moreUrl = \"https://data.joornalo.com/news/\".concat(section, \"-more-news.json\");\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(axios.get(moreUrl));\n\n          case 5:\n            res = _context2.sent;\n            dispatch({\n              type: GET_OTHERNEWS,\n              payload: {\n                topNews: res.data.topNews,\n                moreNews: res.data.moreNews\n              }\n            });\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            dispatch({\n              type: NEWS_ERROR,\n              payload: 'NotFound'\n            });\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]]);\n  };\n};\nexport var getNews = function getNews(section, date, uuid, url, req) {\n  return function _callee2(dispatch, getState) {\n    var path, res, agent, tmpl, template;\n    return _regeneratorRuntime.async(function _callee2$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            setLoading();\n            path = \"https://data.joornalo.com/news/\".concat(uuid.charAt(0), \"/\").concat(uuid.charAt(1), \"/\").concat(uuid, \".json\");\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(axios.get(path));\n\n          case 5:\n            res = _context3.sent;\n\n            if (url !== res.data['url']) {\n              dispatch({\n                type: NEWS_ERROR,\n                payload: \"Redirect: \".concat(res.data['url'])\n              });\n            }\n\n            agent = getState().news.agent;\n            tmpl = agent + '-' + res.data['template'];\n            template = getState().news.templates[tmpl];\n\n            if (template) {\n              _context3.next = 15;\n              break;\n            }\n\n            _context3.next = 13;\n            return _regeneratorRuntime.awrap(getTemplate(req, res.data['template'], getState().news.agent));\n\n          case 13:\n            template = _context3.sent;\n            dispatch({\n              type: ADD_TEMPLATE,\n              payload: {\n                template: _defineProperty({}, tmpl, template)\n              }\n            });\n\n          case 15:\n            dispatch({\n              type: GET_NEWS,\n              payload: {\n                news: res.data,\n                template: template\n              }\n            });\n            _context3.next = 21;\n            break;\n\n          case 18:\n            _context3.prev = 18;\n            _context3.t0 = _context3[\"catch\"](0);\n            dispatch({\n              type: NEWS_ERROR,\n              payload: 'NotFound'\n            });\n\n          case 21:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 18]]);\n  };\n}; // Set loading to true\n\nexport var setLoading = function setLoading() {\n  return {\n    type: SET_LOADING\n  };\n};\nexport var getConfig = function getConfig(req) {\n  return function _callee3(dispatch) {\n    var configUrl, templatesUrl, _ref, _ref2, config, templates, agent;\n\n    return _regeneratorRuntime.async(function _callee3$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            configUrl = \"https://data.joornalo.com/config.json\";\n            templatesUrl = \"https://data.joornalo.com/templates/news/templates.json\";\n            _context4.next = 5;\n            return _regeneratorRuntime.awrap(_Promise.all([axios.get(configUrl), axios.get(templatesUrl), initAgent(req)]));\n\n          case 5:\n            _ref = _context4.sent;\n            _ref2 = _slicedToArray(_ref, 3);\n            config = _ref2[0];\n            templates = _ref2[1];\n            agent = _ref2[2];\n            dispatch({\n              type: GET_CONFIG,\n              payload: {\n                config: config.data,\n                templates: templates.data,\n                agent: agent\n              }\n            });\n            _context4.next = 15;\n            break;\n\n          case 13:\n            _context4.prev = 13;\n            _context4.t0 = _context4[\"catch\"](0);\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 13]]);\n  };\n};","map":{"version":3,"sources":["C:/Projects/DEVELOPMENT/joornalo-frontend/front.joornalo/store/actions/newsActions.js"],"names":["store","GET_NEWS","SET_LOADING","ADD_TEMPLATE","NEWS_ERROR","INIT_AGENT","GET_CONFIG","GET_OTHERNEWS","initAgent","test","axios","getTemplate","req","template","agent","setLoading","tmpl","templateUrl","get","res","tmp","unescape","data","text","find","split","i","length","mediaNum","charAt","media","embed","substring","join","imageNum","images","url","modText","Parser","mainImgUrl","console","log","dispatch","type","payload","statusText","getOtherNews","section","getState","moreUrl","topNews","moreNews","getNews","date","uuid","path","news","templates","getConfig","configUrl","templatesUrl","all","config"],"mappings":"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","sourcesContent":["import store from '../../pages/store';\r\nimport { GET_NEWS, SET_LOADING, ADD_TEMPLATE, NEWS_ERROR, INIT_AGENT, GET_CONFIG, GET_OTHERNEWS } from '../types';\r\nimport { initAgent, test } from '../../services/configService';\r\nimport axios from 'axios';\r\n\r\n\r\nconst getTemplate = async (req, template, agent) => {\r\n  try {\r\n    setLoading();\r\n\r\n    const tmpl = agent + '-' + template;\r\n    const templateUrl = `https://data.joornalo.com/templates/news/${tmpl}.json`;\r\n\r\n    const res = await axios.get(templateUrl);\r\n\r\n\r\n    let tmp = unescape(data.text);\r\n    let find = tmp.split('<embed id=\"');\r\n\r\n    for (let i = find.length - 1; i--;) {\r\n      let mediaNum = parseInt(find[i + 1].charAt(0));\r\n      if (data.media[mediaNum - 1]) {\r\n        find[i + 1] = '<div class=\"embed\">' + data.media[mediaNum - 1].embed + '</div>' + find[i + 1].substring(5);\r\n      } else {\r\n        find[i + 1] = find[i + 1].substring(5);\r\n      }\r\n    }\r\n\r\n    tmp = find.join('');\r\n    find = tmp.split('<image id=\"');\r\n    for (let i = find.length - 1; i--;) {\r\n      let imageNum = parseInt(find[i + 1].charAt(0));\r\n      if (data.images[imageNum - 1]) {\r\n        find[i + 1] = '<img src=\"https://data.joornalo.com/news/4/c/' + data.images[imageNum - 1].url + '\" />' + find[i + 1].substring(5);\r\n      } else {\r\n        find[i + 1] = find[i + 1].substring(5);\r\n      }\r\n    }\r\n\r\n    data.modText = Parser(find.join(''));\r\n\r\n    data.mainImgUrl = 'https://data.joornalo.com/news/4/c/' + data.images[0].url;\r\n\r\n\r\n    return res.data;\r\n\r\n  } catch (err) {\r\n    console.log('***********Template Error');\r\n    dispatch({\r\n      type: NEWS_ERROR,\r\n      payload: err.statusText\r\n    });\r\n  }\r\n\r\n};\r\n\r\nexport const getOtherNews = (section) => async (dispatch, getState) => {\r\n  try {\r\n    setLoading();\r\n\r\n    const moreUrl = `https://data.joornalo.com/news/${section}-more-news.json`;\r\n\r\n    const res = await axios.get(moreUrl);\r\n\r\n    dispatch({\r\n      type: GET_OTHERNEWS,\r\n      payload: {\r\n        topNews: res.data.topNews,\r\n        moreNews: res.data.moreNews,\r\n      }\r\n    });\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: NEWS_ERROR,\r\n      payload: 'NotFound'\r\n    });\r\n  }\r\n};\r\n\r\nexport const getNews = (section, date, uuid, url, req) => async (dispatch, getState) => {\r\n  try {\r\n    setLoading();\r\n\r\n    const path = `https://data.joornalo.com/news/${uuid.charAt(0)}/${uuid.charAt(1)}/${uuid}.json`\r\n\r\n    const res = await axios.get(path);\r\n\r\n    if (url !== res.data['url']) {\r\n      dispatch({\r\n        type: NEWS_ERROR,\r\n        payload: `Redirect: ${res.data['url']}`\r\n      });\r\n    }\r\n\r\n    const agent = getState().news.agent;\r\n    const tmpl = agent + '-' + res.data['template'];\r\n\r\n    let template = getState().news.templates[tmpl];\r\n\r\n    if (!template) {\r\n      template = await getTemplate(req, res.data['template'], getState().news.agent);\r\n      dispatch({\r\n        type: ADD_TEMPLATE,\r\n        payload: {\r\n          template: { [tmpl]: template }\r\n        }\r\n      });\r\n    }\r\n\r\n    dispatch({\r\n      type: GET_NEWS,\r\n      payload: {\r\n        news: res.data,\r\n        template: template\r\n      }\r\n    });\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: NEWS_ERROR,\r\n      payload: 'NotFound'\r\n    });\r\n  }\r\n};\r\n\r\n// Set loading to true\r\nexport const setLoading = () => {\r\n  return {\r\n    type: SET_LOADING\r\n  };\r\n};\r\n\r\n\r\nexport const getConfig = (req) => async dispatch => {\r\n  try {\r\n    const configUrl = `https://data.joornalo.com/config.json`\r\n    const templatesUrl = `https://data.joornalo.com/templates/news/templates.json`;\r\n\r\n    const [config, templates, agent] = await Promise.all([\r\n      axios.get(configUrl),\r\n      axios.get(templatesUrl),\r\n      initAgent(req)\r\n    ]);\r\n\r\n    dispatch({\r\n      type: GET_CONFIG,\r\n      payload: {\r\n        config: config.data,\r\n        templates: templates.data,\r\n        agent: agent\r\n      }\r\n    });\r\n\r\n  } catch (err) {\r\n    // dispatch({\r\n    //   type: NEWS_ERROR,\r\n    //   payload: 'NotFound'\r\n    // });\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}